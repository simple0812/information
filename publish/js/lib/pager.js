function pagerDelegate(a,b,c){var d=function(){var d=[];d.push(c),b.apply(a,d)};return d}function Pager(a,b,c,d,e){this.pagesize=a,this.recordcount=b,this.pageindex=c,this.temppage=this.pageindex,this.callback=e,this.condition=d,this.interval=3,this.absdiff=(this.interval-1)/2,this.pagecount=Math.ceil(this.recordcount/this.pagesize),this.pageindex>this.pagecount&&(this.pageindex=this.pagecount),this.create=function(){return function(){this.renderHtml.apply(this,arguments)}},this.pagecount==0&&(this.pagecount=1),this.pageindex==0&&(this.pageindex=1),this.flag=!1;var f=this;this.pref=arguments.length>5?arguments[5]:"",typeof $(window).hashchange!="undefined"&&$(window).hashchange(function(){var a=location.hash.substr(location.hash.indexOf("page")+4);a.length<=0&&(a=1);var b=pagerDelegate(f,e,{mode:"nums",val:parseInt(a)});f.flag!=1&&("#"+f.pref+"page"+a==location.hash||a==1&&location.hash=="#")&&b(),f.flag=!1})}Pager.prototype.getDefaultIndex=function(){var a=location.hash.substr(location.hash.indexOf("page")+4);return a.length<=0?1:parseInt(a)},Pager.prototype.renderHtml=function(){var a=arguments[0];a.innerHTML="",a.appendChild(document.createTextNode(String.format("共{0}条数据 {1} / {2}页 ",this.recordcount,this.pageindex,this.pagecount)));var b=document.createElement("A");b.appendChild(document.createTextNode("首页")),b.setAttribute("href","javascript:void(0)"),b.onclick=pagerDelegate(this,this.callback,{mode:"first"}),a.appendChild(b),a.appendChild(document.createTextNode(" "));var c=document.createElement("A");c.appendChild(document.createTextNode("上一页")),c.setAttribute("href","javascript:void(0)"),c.onclick=pagerDelegate(this,this.callback,{mode:"previous"}),a.appendChild(c),a.appendChild(document.createTextNode(" "));var d=document.createElement("A");d.appendChild(document.createTextNode("下一页")),d.setAttribute("href","javascript:void(0)"),d.onclick=pagerDelegate(this,this.callback,{mode:"next"}),a.appendChild(d),a.appendChild(document.createTextNode(" "));var e=document.createElement("A");e.appendChild(document.createTextNode("末页")),e.setAttribute("href","javascript:void(0)"),e.onclick=pagerDelegate(this,this.callback,{mode:"last"}),a.appendChild(e),a.appendChild(document.createTextNode(" "))},Pager.prototype.renderNumberStyleHtml=function(){var a=arguments[0];a.innerHTML="";var b=$("<ul></ul>").get(0);$(b).addClass("pagination");var c=$("<li></li>").get(0),d=$("<span></span>").get(0);$(d).addClass("pageinfo"),c.appendChild(d);var e=$("<strong></strong>").get(0),f=$("<strong></strong>").get(0);e.appendChild(document.createTextNode(String.format(" {2} ",this.recordcount,this.pageindex,this.pagecount))),f.appendChild(document.createTextNode(String.format(" {0} ",this.recordcount,this.pageindex,this.pagecount))),d.appendChild(document.createTextNode("共")),d.appendChild(e),d.appendChild(document.createTextNode("页")),d.appendChild(f),d.appendChild(document.createTextNode("条")),b.appendChild(c);var g=$("<li></li>").get(0),h=$("<a></a>").get(0);h.appendChild(document.createTextNode("首页")),h.setAttribute("href","javascript:void(0)"),h.onclick=pagerDelegate(this,this.callback,{mode:"first"}),g.appendChild(h),b.appendChild(g),b.appendChild(document.createTextNode(" "));var i=$("<li></li>").get(0),j=$("<a></a>").get(0);j.appendChild(document.createTextNode(" 上一页 ")),j.setAttribute("href","javascript:void(0)"),j.onclick=pagerDelegate(this,this.callback,{mode:"previous"}),i.appendChild(j),b.appendChild(i),b.appendChild(document.createTextNode(" ")),this.pageindex+this.absdiff>this.interval&&this.pageindex+this.absdiff<=this.pagecount?this.generateNumsText(this.pageindex-this.absdiff,this.pageindex+this.absdiff,b):this.pageindex+this.absdiff<=this.interval?this.generateNumsText(1,this.interval,b):this.pageindex+this.absdiff>this.pagecount&&this.generateNumsText(this.pagecount-this.interval+1,this.pagecount,b);var k=$("<li></li>").get(0),l=$("<a></a>").get(0);l.appendChild(document.createTextNode(" 下一页 ")),l.setAttribute("href","javascript:void(0)"),l.onclick=pagerDelegate(this,this.callback,{mode:"next"}),k.appendChild(l),b.appendChild(k),b.appendChild(document.createTextNode(" "));var m=$("<li></li>").get(0),n=$("<a></a>").get(0);n.appendChild(document.createTextNode("末页")),n.setAttribute("href","javascript:void(0)"),n.onclick=pagerDelegate(this,this.callback,{mode:"last"}),m.appendChild(n),b.appendChild(m),b.appendChild(document.createTextNode(" "));var o=$("<li></li>").get(0),p=$("<span></span>").get(0);$(p).addClass("pageinput"),o.appendChild(p);var q=$("<INPUT />").get(0);$(q).addClass("pagetxt"),q.setAttribute("type","text"),q.setAttribute("name","gopage"),q.setAttribute("id","gopage"),q.setAttribute("size","2"),q.setAttribute("value",this.pageindex),q.onchange=pagerDelegate(this,this.handleTextChanged,{objRef:q}),p.appendChild(q);var r=$("<a></a>").get(0);r.setAttribute("href","javascript:void(0)"),r.appendChild(document.createTextNode(" GO ")),r.onclick=pagerDelegate(this,this.callback,{mode:"inputnums"}),p.appendChild(r),b.appendChild(o),b.appendChild(document.createTextNode("")),a.appendChild(b)},Pager.prototype.renderSimpleNumberStyleHtml=function(){var a=arguments[0];a.innerHTML="";var b=document.createElement("<span>");this.pageindex+this.absdiff>this.interval&&this.pageindex+this.absdiff<=this.pagecount?this.generateNumsText_1(this.pageindex-this.absdiff,this.pageindex+this.absdiff,b):this.pageindex+this.absdiff<=this.interval?this.generateNumsText_1(1,this.interval,b):this.pageindex+this.absdiff>this.pagecount&&this.generateNumsText_1(this.pagecount-this.interval+1,this.pagecount,b);var c=document.createElement("A");c.appendChild(document.createTextNode(" 上一页 ")),c.setAttribute("href","javascript:void(0)"),c.setAttribute("className","wy_pr_bn"),c.onclick=pagerDelegate(this,this.callback,{mode:"previous"}),b.appendChild(c),b.appendChild(document.createTextNode(" "));var d=document.createElement("A");d.appendChild(document.createTextNode(" 下一页 ")),d.setAttribute("href","javascript:void(0)"),d.setAttribute("className","wy_next_bn"),d.onclick=pagerDelegate(this,this.callback,{mode:"next"}),b.appendChild(d),b.appendChild(document.createTextNode(" "));var e=document.createElement("<span>");e.setAttribute("className","span_wy01"),e.appendChild(document.createTextNode(String.format("共{2}页 ",this.recordcount,this.pageindex,this.pagecount))),a.appendChild(e),a.appendChild(b)},Pager.prototype.moveIndicator=function(){if(arguments.length!=1||arguments[0]==null||arguments[0].mode==null)return;switch(arguments[0].mode){case"first":this.pageindex=1;break;case"previous":this.pageindex-=1,this.pageindex<1&&(this.pageindex=1);break;case"next":this.pageindex+=1,this.pageindex>this.pagecount&&(this.pageindex=this.pagecount);break;case"last":this.pageindex=this.pagecount;break;case"nums":this.pageindex=arguments[0].val;break;case"inputnums":this.pageindex=this.temppage}if(this.condition&&this.condition.pageindex){this.flag=!0,this.condition.pageindex=this.pageindex;var a="#"+this.pref+"page"+this.pageindex.toString();window.navigator.userAgent.toLowerCase().indexOf("msie")>-1?$.locationHash(a):location.hash=a}},Pager.prototype.setRecordCount=function(){this.recordcount=arguments[0],this.pagecount=Math.ceil(this.recordcount/this.pagesize),this.pageindex>this.pagecount&&(this.pageindex=this.pagecount),this.pagecount==0&&(this.pagecount=1),this.pageindex==0&&(this.pageindex=1)},Pager.prototype.setInterval=function(){this.interval=arguments[0],this.absdiff=(this.interval-1)/2},Pager.prototype.generateNumsText=function(){var a=arguments[2];arguments[0]<1&&(arguments[0]=1),arguments[1]>this.pagecount&&(arguments[1]=this.pagecount);for(var b=arguments[0];b<=arguments[1];b++){var c=$("<li></li>").get(0),d=$("<a></a>").get(0);b==this.pageindex?($(c).addClass("thisclass"),d.appendChild(document.createTextNode(String.format(" {0} ",b)))):d.appendChild(document.createTextNode(b.toString())),d.setAttribute("href","javascript:void(0)"),d.onclick=pagerDelegate(this,this.callback,{mode:"nums",val:b}),c.appendChild(d),a.appendChild(c),a.appendChild(document.createTextNode(" "))}},Pager.prototype.generateNumsText_1=function(){var a=arguments[2];arguments[0]<1&&(arguments[0]=1),arguments[1]>this.pagecount&&(arguments[1]=this.pagecount);for(var b=arguments[0];b<=arguments[1];b++){var c=$("<a></a>").get(0);b==this.pageindex?($(c).addClass("seleced"),c.appendChild(document.createTextNode(String.format(" {0} ",b)))):c.appendChild(document.createTextNode(b.toString())),c.setAttribute("href","javascript:void(0)"),c.onclick=pagerDelegate(this,this.callback,{mode:"nums",val:b}),a.appendChild(c),a.appendChild(document.createTextNode(" "))}},Pager.prototype.handleTextChanged=function(){this.temppage=arguments[0].objRef.value},typeof define=="function"&&define.amd&&define(["lib/hashChange"],function(){return Pager})