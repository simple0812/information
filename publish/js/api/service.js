define(["lib/angular"],function(){var a=angular.module("moduleSvc",[]);a.factory("svc",["$http",function(a){return{invoke:function(a){var b=$.Deferred(),c=b.promise(),d={};return _.each(a.params,function(a){d[a.name]=a.value}),$.ajax({type:a.method.toUpperCase(),url:a.url,data:JSON.stringify(d),contentType:"application/json; charset=utf-8"}).success(function(a){b.resolve(a)}),c},retrieve:function(){var b=$.Deferred(),c=b.promise();return a.get("/apis",{params:pager.condition}).success(function(a){if(!a)return b.reject("未知的错误");if(!a.state||a.state=="error")return b.reject(a.result);b.resolve(a)}),c}}}])})